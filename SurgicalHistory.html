<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surgical History</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- KaTeX CSS for Math Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css">
</head>
<body class="bg-light">
    <div class="container py-5">
        <h1 class="mb-4 text-center">Surgical History</h1>
        <form id="surgicalHistoryForm" class="card card-body bg-white">
            <!-- Surgery Section -->
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="surgery" class="form-label required">Did you undergo any surgeries?</label>
                    <select id="surgery" name="surgery" class="form-select" required onchange="toggleSurgeryDetails()">
                        <option value="no">No</option>
                        <option value="yes">Yes</option>
                    </select>
                </div>
                <div class="col-md-6" id="surgeryDetails" style="display: none;">
                    <label for="surgeryType" class="form-label required">Type of surgery:</label>
                    <select id="surgeryType" name="surgeryType" class="form-select" onchange="toggleUTIDetails()">
                        <option value="">Select</option>
                        <option value="cardiovascular">Cardiovascular</option>
                        <option value="gastrointestinal">Gastrointestinal</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="col-md-12" id="utiDetails" style="display: none;">
                    <label for="utiOptions" class="form-label">Details of Cardiovascular Surgery:</label>
                    <select id="utiOptions" name="utiOptions" class="form-select">
                        <option value="1">Bypass Surgery</option>
                        <option value="2">Heart Valve Surgery</option>
                        <option value="3">Stent Placement</option>
                    </select>
                </div>
            </div>
            <a href="MedicationsHistory.html" class="btn btn-primary mt-3" role="button">Submit</a>
        </form>
    </div>
    <script>
        function toggleSurgeryDetails() {
            var surgeryStatus = document.getElementById("surgery").value;
            var detailsElement = document.getElementById("surgeryDetails");
            detailsElement.style.display = (surgeryStatus === "yes") ? "block" : "none";
            document.getElementById("surgeryType").value = ""; // Reset dropdown
            toggleUTIDetails(); // Also hide details when no surgery is selected
        }

        function toggleUTIDetails() {
            var surgeryType = document.getElementById("surgeryType").value;
            var detailsElement = document.getElementById("utiDetails");
            detailsElement.style.display = (surgeryType === "cardiovascular") ? "block" : "none";
        }
    </script>
</body>
</html>
