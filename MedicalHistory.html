<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">
    <style>
        .form-label {
            font-weight: bold;
        }
        .form-container {
            margin: 20px;
        }
        .table-container {
            margin: 20px;
        }
    </style>
</head>

<body class="bg-light">
    <div class="container py-5">
        <div class="text-center mb-4">
            <h1>Medicals at the Center</h1>
            <p id="current-date"></p>
        </div>
        <form id="ascvdForm" class="card card-body bg-white shadow-sm form-container">
            
            <h1 class="mb-4 text-center">Medical History</h1>
         
     <!-- Table -->
     <div class="table-container">
        <table id="example" class="table table-striped">
            <thead>
                <tr>
                    <th>Select</th>
                    <th style="display:none;">Symptom/Diagnosis</th>
                    <th>ICD</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="MD81.4"></td>
                    <td style="display:none;">Abdominal Pain</td>
                    <td>MD81.4</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="1A2Y"></td>
                    <td style="display:none;">Acute Gastroenteritis</td>
                    <td>1A2Y</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="DA0A.Y"></td>
                    <td style="display:none;">Dental pain</td>
                    <td>DA0A.Y</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="ME05.1"></td>
                    <td style="display:none;">Diarrhea</td>
                    <td>ME05.1</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="DD90.4"></td>
                    <td style="display:none;">Nausea or vomiting</td>
                    <td>DD90.4</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="CA42"></td>
                    <td style="display:none;">Acute bronchitis</td>
                    <td>CA42</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="CA01"></td>
                    <td style="display:none;">Acute sinusitis</td>
                    <td>CA01</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="3A00.Y"></td>
                    <td style="display:none;">Other specified iron deficiency anemia</td>
                    <td>3A00.Y</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="3A9Z"></td>
                    <td style="display:none;">Anemia</td>
                    <td>3A9Z</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="CA22.1"></td>
                    <td style="display:none;">Certain specified chronic obstructive pulmonary disease</td>
                    <td>CA22.1</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="ME84.0"></td>
                    <td style="display:none;">Cervical spine pain</td>
                    <td>ME84.0</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="MD30.Z"></td>
                    <td style="display:none;">Chest pain unspecified</td>
                    <td>MD30.Z</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="MD12"></td>
                    <td style="display:none;">Cough</td>
                    <td>MD12</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="9A60.Z"></td>
                    <td style="display:none;">Conjunctivitis unspecified</td>
                    <td>9A60.Z</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="RA01"></td>
                    <td style="display:none;">COVID-19</td>
                    <td>RA01</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="MD11.5"></td>
                    <td style="display:none;">Dyspnoea</td>
                    <td>MD11.5</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="MG22"></td>
                    <td style="display:none;">Fatigue</td>
                    <td>MG22</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="MG26"></td>
                    <td style="display:none;">Fever</td>
                    <td>MG26</td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="rowCheckbox" data-icd="1D9Z"></td>
                    <td style="display:none;">Fever + Other non specific symptoms</td>
                    <td>1D9Z</td>
                </tr>
                    </tbody>
                </table>
            </div>
            <!-- Submit Button -->
            <div class="form-container text-center">
                <button type="button" class="btn btn-primary" onclick="handleSubmit()">Submit Selected</button>
            </div>
            <div class="text-center">
                <a href="SurgicalHistory.html" class="btn btn-primary mt-3" role="button">Next</a>
            </div>
        </form>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>
    <script>
        $(document).ready(function() {
            // Initialize DataTables
            var table = $('#example').DataTable({
                "columnDefs": [
                    {
                        "targets": [1],
                        "visible": false
                    }
                ]
            });

            // Apply the search
            $('#searchInput').on('keyup', function() {
                table.columns(1).search(this.value).draw();
            });
        });

        function handleSubmit() {
            const selectedICDs = [];
            document.querySelectorAll('.rowCheckbox:checked').forEach(checkbox => {
                selectedICDs.push(checkbox.getAttribute('data-icd'));
            });
            
            if (selectedICDs.length > 0) {
                alert('Submitting: ' + selectedICDs.join(', '));
                // You can replace the alert with actual form submission or any other logic
            } else {
                alert('No rows selected');
            }
        }
    </script>
    <script>
        function toggleUrinaryTract() {
            var urinaryStatus = document.getElementById("urinary").value;
            document.getElementById("urinaryTractDetails").style.display = (urinaryStatus === "yes") ? "block" : "none";
        }

        function toggleCancerType() {
            var cancerStatus = document.getElementById("cancer").value;
            document.getElementById("cancerType").style.display = (cancerStatus === "yes") ? "block" : "none";
        }

        function toggleEndocrineType() {
            var endocrineStatus = document.getElementById("endocrine").value;
            document.getElementById("endocrineType").style.display = (endocrineStatus === "yes") ? "block" : "none";
        }

        function togglePsychologicalType() {
            var psychologicalStatus = document.getElementById("psychological").value;
            document.getElementById("psychologicalType").style.display = (psychologicalStatus === "yes") ? "block" : "none";
        }

        function toggleNeurologicType() {
            var neurologicStatus = document.getElementById("neurologic").value;
            document.getElementById("neurologicType").style.display = (neurologicStatus === "yes") ? "block" : "none";
        }

        function toggleCardiologicType() {
            var cardiologicStatus = document.getElementById("cardiologic").value;
            document.getElementById("cardiologicType").style.display = (cardiologicStatus === "yes") ? "block" : "none";
        }

        function toggleGastroType() {
            var gastroStatus = document.getElementById("gastro").value;
            document.getElementById("gastroType").style.display = (gastroStatus === "yes") ? "block" : "none";
        }

        function togglePulmonaryType() {
            var pulmonaryStatus = document.getElementById("pulmonary").value;
            document.getElementById("pulmonaryType").style.display = (pulmonaryStatus === "yes") ? "block" : "none";
        }

        function toggleMusculoskeletalType() {
            var musculoskeletalStatus = document.getElementById("musculoskeletal").value;
            document.getElementById("musculoskeletalType").style.display = (musculoskeletalStatus === "yes") ? "block" : "none";
        }
    </script>
    <script>
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        const today  = new Date();
        document.getElementById('current-date').textContent = today.toLocaleDateString('en-US', options);

    </script>
</body>

</html>